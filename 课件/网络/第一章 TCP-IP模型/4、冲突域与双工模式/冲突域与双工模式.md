# 冲突域与双工模式



如下图是一个**10BASE5**以太网，每个主机都是用同一根同轴电缆来与其它主机进行通 信，因此，这里的同轴电缆又被称为**共享介质**，相应的网络被称为共享介质网络，或简称为 **共享式网络**。共享式网络中，不同的主机同时发送数据时，就会产生信号冲突的问题，解决 这一问题的方法一般是采用**载波侦听多路访问**/**冲突检测技术**（Carrier Sense Multiple  Access/Collision Detection）。

![图1](image/%E5%9B%BE1.jpg)

## 以太网上的通信模式

**以太网上的通信模式包括半双工和全双工两种：**

半双工：在半双工模式（half-duplex mode）下，通信双方都能发送和接收数据，但不能同时进行。当一台设备发送时，另一台只能接收，反之亦然。对讲机是半双工系统的典型例子。

全双工：在全双工模式（full-duplex mode）下，通信双方都能同时接收和发送数据。电话网络是典型的全双工例子。

![图2](image/%E5%9B%BE2.jpg)

在半双工模式下，共享物理介质的通信双方必须采用**CSMA/CD**机制来避免冲突。例如，

**10BASE5**以太网的通信模式就必须是半双工模式。



## CSMA/CD机制的基本工作过程



**CSMA/CD**机制的基本工作过程如下：

1. 终端设备不停地检测共享线路的状态。如果线路空闲，则可以发送数据；如果线路不空闲，则等待一段时间后继续检测（延时时间由退避算法决定）。

2. 如果有另外一个设备同时发送数据，两个设备发送的数据会产生冲突。

3. 终端设备检测到冲突之后，马上停止发送自己的数据，并发送特殊阻塞信息，以强化冲突信号，使线路上其他站点能够尽早检测到冲突。

4. 终端设备检测到冲突后，等待一段时间之后再进行数据发送（延时时间由退避算法决定）。

**CSMA/CD**的工作原理可简单总结为：先听后发，边发边听，冲突停发，随机延迟后重发。



在全双工模式下，通信双方可以同时实现双向通信，这种模式不会产生冲突，因此不需要使用**CSMA/CD**机制。例如，**10BASE-T**以太网的通信模式就可以是全双工模式。

同一物理链路上相连的两台设备的双工模式必须保持一致，否则会出现丢包和通信问题



