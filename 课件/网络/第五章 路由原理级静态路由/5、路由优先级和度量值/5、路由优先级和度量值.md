# **1、路由优先级（preference）**

路由器会把它认为的最优秀的路由条目添加到路由表中，首先要看的就是路由来源，路由来源有直连路由、静态路由及各种动态路由，不同的厂商会对不同的路由条目来源定义不同的优先级标准，思科公司称这个为管理距离（distance），代表的是这个路由来源的可信程度，华为厂商称之为优先级（preference）

![wps3](E:\班里\网络基础\网络基础整理与答案\第五章 路由原理及静态路由\images\wps3.png)

如图所示，路由器通过两种路由协议学习到了网段10.1.1.0的路由。虽然RIP协议提供了一条看起来更加近的路线，但是由于OSPF具有更高的优先级，因而成为优选路由，并被加入路由表中。

# **2、度量值（metric）**

如果路由器无法用优先级来判断最优路由，则使用度量值（metric）来决定需要加入路由表的路由。度量值是评定路由好坏的标准。一些常用的度量值有：跳数，带宽，时延，代价，负载，可靠性等。

跳数是指到达目的地所通过的路由器数目。

带宽是指链路的容量，高速链路开销（度量值）较小。

metric值越小，路由越优先；因此，图示中metric=1+1=2的路由是到达目的地的最优路由，其表项可以在路由表中找到。



![wps4](E:\班里\网络基础\网络基础整理与答案\第五章 路由原理及静态路由\images\wps4.png)

# **3、最长掩码匹配原则：**

当路由表中有多条到达目的地路由条目时，路由器会选择掩码长度最长的条目来进行转发。

![wps5](E:\班里\网络基础\网络基础整理与答案\第五章 路由原理及静态路由\images\wps5.png)

 

# **课后练习题：**

1、路由器选择最优路径的顺序时怎样的？

2、路由器在做数据包转发时，采用的原则时什么？ 3、preference在路由表中代表什么含义？