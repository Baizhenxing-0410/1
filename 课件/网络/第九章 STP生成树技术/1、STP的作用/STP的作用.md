# **STP的作用**



随着局域网规模的不断扩大， 越来越多的交换机被用来实现主机之间的互连。 如果交换机之间仅使用一条链路互连， 则可能会出现单点故障，导致业务中断。 为了解决此类问题， 交换机在互连时一般都会使用冗余链路来实现备份。冗余链路虽然增强了网络的可靠性， 但是也会产生环路， 而环路会带来一系列的问题， 继而导致通信质量下降和通信业务中断等问题。

![wps1](E:\班里\网络基础\网络基础整理与答案\第九章 STP生成树技术-day4\images\wps1.png)

根据**交换机的转发原则**， 如果交换机从**一个端口上****接收到的是一个广播帧**， 或者是**一个目的MAC地址未知的单播帧**， **则会将这个帧向除源端口之外的所有其他端口转发**。 如果**交换网络中有环路， **则这个帧会被无限转发， 此时便会形成广播风暴， 网络中也会充斥着重复的数据帧**。交换机性能会因此急速下降， 并会导致业务中断。

![wps2](E:\班里\网络基础\网络基础整理与答案\第九章 STP生成树技术-day4\images\wps2.png)





为解决交换网络中的环路问题， 提出了STP，STP的主要作用：（**STP--生成树协议**）

\1**. 消除环路：**通过阻断冗余链路来消除网络中可能存在的环路。

\2. **链路备份**：当活动路径发生故障时， 激活备份链路， 及时恢复网络连通性。

![wps3](E:\班里\网络基础\网络基础整理与答案\第九章 STP生成树技术-day4\images\wps3.png)

## **STP协议标准**：

1、**IEEE 802.1D**	传统生成树，收敛时间比较长，最长可以到50s

2、**IEEE 802.1W**	快速生成树，收敛时间很快，基本在1s内

3、**IEEE 802.1S**	多实例生成树，将多个VLAN捆绑到一个实例中去，可以节省通信开销和资源占用率，MSTP兼容STP和RSTP

**STP/RSTP** 的局限：所有VLAN 共享一颗生成树，无法实现不同VLAN 在多条Trunk 链路上的负载分担。

**MSTP**：（Multiple Spanning Tree，多生成树协议），基于实例计算出多颗生成树，实例间实现负载分担。

 

# **课后练习题：**

1、为何要使用STP?

2、STP主要有哪些作用？

3、STP主要有哪些协议标准？华为交换机设备默认的是哪种？